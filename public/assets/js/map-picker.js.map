{"version":3,"sources":["map-picker.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"map-picker.js","sourcesContent":["\nvar sikobeMapIsInitialized = false;\n$('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\n  if (!sikobeMapIsInitialized) {\n    sikobeMapIsInitialized = true;\n    initialize();\n  }\n});\n\ngoogle.maps.event.addDomListener(window, 'load', initialize);\n\nfunction initialize() {\n  var lat = $.trim($(\"#latitude\").val());\n  var lng = $.trim($(\"#longitude\").val());\n  if (lat.length>0||lng.length>0) {\n    setMapPosition(lat,lng);\n  }else{\n    var village = $('#village').find(':selected').data('village');\n    var district = $('#village').find(':selected').data('district');\n    setGeo(village,district);\n  }\n};\n\n$('#village').change(function() {\n  var village = $(this).find(':selected').data('village');\n  var district = $(this).find(':selected').data('district');\n  setGeo(village,district);\n});\n\nfunction setGeo(village,district){\n  geocoder = new google.maps.Geocoder();\n  geocoder.geocode({ 'address': village +', kecamatan '+district + 'Kabupaten Garut' }, function (results, status) {\n    if (status == google.maps.GeocoderStatus.OK) {\n      var latitude = results[0].geometry.location.lat();\n      var longitude = results[0].geometry.location.lng();\n      setMapPosition(latitude,longitude);\n    }else{\n      console.log(\"Error\");\n    }\n  });\n}\n\nfunction setMapPosition(latitude,longitude){\n  map = new google.maps.Map(document.getElementById(\"map_canvas\"), {\n    center: new google.maps.LatLng(latitude,longitude),\n    zoom: 16,\n    panControl: false,\n    mapTypeId: google.maps.MapTypeId.HYBRID\n  });\n  var markerPosition = new google.maps.LatLng(latitude,longitude);\n  marker = new google.maps.Marker({\n    position: markerPosition,\n    map: map,\n    draggable: true,\n    icon : '/marker.png'\n  });\n  setMarker(markerPosition);\n  google.maps.event.addListener(marker, 'drag', function() {\n    setMarker(marker.getPosition());\n  });\n}\n\nfunction setMarker(markerPosition){\n  $('#latitude').val(markerPosition.lat());\n  $('#longitude').val(markerPosition.lng());\n}\n"],"sourceRoot":"/source/"}